<p>{{ assertColor(color) }}</p>

<div class="pickerContainer">
  <div #wheel class="wheel">
    <div class="mouseListener svgAbsolute" [class.maximized]="dragging.any" (mousedown)="enableDrag($event)" (mouseup)="disableDrag()" (mousemove)="drag($event)"></div>
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="-10 -10 220 220">
      <defs>
        <linearGradient id="redyel" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#ff0000"/>
          <stop offset="100%" stop-color="#ffff00"/>
        </linearGradient>
        <linearGradient id="yelgre" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#ffff00"/>
          <stop offset="100%" stop-color="#00ff00"/>
        </linearGradient>
        <linearGradient id="grecya" gradientUnits="objectBoundingBox" x1="1" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#00ff00"/>
          <stop offset="100%" stop-color="#00ffff"/>
        </linearGradient>
        <linearGradient id="cyablu" gradientUnits="objectBoundingBox" x1="1" y1="1" x2="0" y2="0">
          <stop offset="0%" stop-color="#00ffff"/>
          <stop offset="100%" stop-color="#0000ff"/>
        </linearGradient>
        <linearGradient id="blumag" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="0" y2="0">
          <stop offset="0%" stop-color="#0000ff"/>
          <stop offset="100%" stop-color="#ff00ff"/>
        </linearGradient>
        <linearGradient id="magred" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0">
          <stop offset="0%" stop-color="#ff00ff"/>
          <stop offset="100%" stop-color="#ff0000"/>
        </linearGradient>
      </defs>

      <g fill="none" stroke-width="15" transform="translate(100,100)">
        <path d="M 0,-100 A 100,100 0 0,1 86.6,-50" stroke="url(#redyel)"/>
        <path d="M 86.6,-50 A 100,100 0 0,1 86.6,50" stroke="url(#yelgre)"/>
        <path d="M 86.6,50 A 100,100 0 0,1 0,100" stroke="url(#grecya)"/>
        <path d="M 0,100 A 100,100 0 0,1 -86.6,50" stroke="url(#cyablu)"/>
        <path d="M -86.6,50 A 100,100 0 0,1 -86.6,-50" stroke="url(#blumag)"/>
        <path d="M -86.6,-50 A 100,100 0 0,1 0,-100" stroke="url(#magred)"/>
      </g>
    </svg>
  </div>
  <div class="triangle" [style.transform]="transform">
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="-10 -10 220 220">
      <style>
        .caret {
          rx: 3;
          ry: 3;
          transition: rx .15s, ry .15s;
          box-shadow: 0 0 4px 0 black;
        }
        .caret.selected {
          rx: 6;
          ry: 6;
        }
      </style>

      <clipPath id="mask">
        <polygon points="60,30 180,100 60,170" fill="url(#g1)"></polygon>
      </clipPath>
      <radialGradient id="g1" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0">
        <stop offset="0%" [attr.stop-color]="hueColor.toString()"></stop>
        <stop offset="100%" [attr.stop-color]="hueColor + '00'"></stop>
      </radialGradient>
      <radialGradient id="g2" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0">
        <stop offset="0%" stop-color="#000"></stop>
        <stop offset="100%" stop-color="transparent"></stop>
      </radialGradient><radialGradient id="g3" gradientUnits="objectBoundingBox" x1="0" y1="1" x2="1" y2="0">
        <stop offset="0%" stop-color="#fff"></stop>
        <stop offset="100%" stop-color="rgba(255, 255, 255, 0)"></stop>
      </radialGradient>
      <ellipse fill="url(#g2)" clip-path="url(#mask)" ry="120" rx="120" cy="170" cx="60"></ellipse>
      <ellipse fill="url(#g1)" clip-path="url(#mask)" ry="120" rx="120" cy="100" cx="180"></ellipse>
      <ellipse fill="url(#g3)" clip-path="url(#mask)" ry="120" rx="120" cy="30" cx="60"></ellipse>

      <ellipse class="caret" [class.selected]="dragging.triangle" [attr.cx]="pointX" [attr.cy]="pointY" [attr.fill]="color.toString()" stroke="black"></ellipse>
    </svg>
  </div>
</div>
